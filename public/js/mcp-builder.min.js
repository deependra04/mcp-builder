var McpBuilder;(t=>{class e{constructor(){this.initialized=!1,this.initialized||this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.initialize()):this.initialize()}initialize(){this.initialized||(document.querySelectorAll(".mcp-builder-alert.alert").forEach(t=>{window.bootstrap&&window.bootstrap.Alert&&setTimeout(()=>{try{new window.bootstrap.Alert(t).close()}catch(t){console.warn("MCP Builder: Could not close alert",t)}},5e3)}),this.initialized=!0)}static getVersion(){return e.VERSION}}e.VERSION="1.0.0",t.Main=e,"undefined"!=typeof window&&(window.McpBuilder=new e)})(McpBuilder=McpBuilder||{}),(()=>{class t{constructor(){this.toasts=[],this.typeConfigs={success:{bgClass:"bg-success",textClass:"text-white",icon:"✓"},error:{bgClass:"bg-danger",textClass:"text-white",icon:"✗"},warning:{bgClass:"bg-warning",textClass:"text-dark",icon:"⚠"},info:{bgClass:"bg-info",textClass:"text-white",icon:"ℹ"}},this.container=this.initializeContainer(),this.init()}initializeContainer(){let t=document.getElementById("mcp-builder-toast-container");return t||((t=document.createElement("div")).id="mcp-builder-toast-container",t.className="position-fixed bottom-0 end-0 p-3",t.style.zIndex="11",document.body.appendChild(t)),t}init(){document.querySelectorAll(".mcp-builder-toast").forEach(t=>{this.showExistingToast(t)})}showExistingToast(e){var t;window.bootstrap&&window.bootstrap.Toast?(t=e.dataset.bsDelay?parseInt(e.dataset.bsDelay):5e3,new window.bootstrap.Toast(e,{autohide:"false"!==e.dataset.bsAutohide,delay:t}).show(),e.addEventListener("hidden.bs.toast",()=>{e.remove(),this.toasts=this.toasts.filter(t=>t!==e)},{once:!0}),this.toasts.push(e)):console.warn("MCP Builder: Bootstrap Toast not available")}show(t,e,s={}){if(!window.bootstrap||!window.bootstrap.Toast)return console.warn("MCP Builder: Bootstrap Toast not available"),null;var{title:s=null,duration:i=5e3,dismissible:o=!0,actions:n=[]}=s,a="mcp-builder-toast-"+Date.now();let r=this.createToastElement(a,t,s,e,i,o,n);this.container.appendChild(r),this.toasts.push(r);a=new window.bootstrap.Toast(r,{autohide:o,delay:i});return a.show(),r.addEventListener("hidden.bs.toast",()=>{r.remove(),this.toasts=this.toasts.filter(t=>t!==r)},{once:!0}),a}createToastElement(t,e,s,i,o,n,a){var{bgClass:e,textClass:r,icon:d}=this.typeConfigs[e]||this.typeConfigs.info,l=document.createElement("div");l.id=t,l.className=`mcp-builder-toast toast align-items-center ${e} ${r} border-0`,l.setAttribute("role","alert"),l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),l.dataset.bsAutohide=n?"true":"false",l.dataset.bsDelay=o.toString();let c="";return 0<a.length&&(c='<div class="mt-2">'+a.map(t=>`<button class="btn btn-sm btn-outline-light me-1" onclick="${"function"==typeof t.action?`(${t.action.toString()})()`:t.action}">${t.label}</button>`).join("")+"</div>"),l.innerHTML=`
        <div class="d-flex">
          <div class="toast-body">
            ${s?`<strong>${d} ${this.escapeHtml(s)}</strong><br>`:`<strong>${d}</strong> `}
            ${this.escapeHtml(i)}
            ${c}
          </div>
          ${n?'<button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>':""}
        </div>
      `,l}escapeHtml(t){var e=document.createElement("div");return e.textContent=t,e.innerHTML}success(t,e){return this.show("success",t,e)}error(t,e){return this.show("error",t,e)}warning(t,e){return this.show("warning",t,e)}info(t,e){return this.show("info",t,e)}}(McpBuilder||(McpBuilder={})).ToastManager=t;let d=null;function e(){"undefined"==typeof window||d||(d=new t,window.McpToast=d)}var s;"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()),"undefined"!=typeof window&&window.jQuery&&"function"==typeof window.jQuery&&((s=window.jQuery)(document).ajaxError((t,e,s,i)=>{let o="An error occurred";try{var n,a="string"==typeof e.responseText?e.responseText:String(e.responseText||"{}"),r=JSON.parse(a);r.error&&(o=r.error.message||o,r.error.suggestions)&&Array.isArray(r.error.suggestions)&&(n=r.error.suggestions.join(", "),o+=". "+n)}catch(t){a=e.status||0;0===a?o="Network error. Please check your connection.":422===a?o="Validation failed. Please check your input.":500<=a&&(o="Server error. Please try again later.")}d&&d.error(o,{duration:8e3})}),s(document).ajaxSuccess((t,e,s)=>{try{var i="string"==typeof e.responseText?e.responseText:String(e.responseText||"{}"),o=JSON.parse(i);o.success&&o.message&&d&&d.success(o.message)}catch(t){}}))})();